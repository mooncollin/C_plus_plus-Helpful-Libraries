{% macro section_header(name) -%}
<p class="mb-0 mt-2"><strong>{{name}}</strong></p>
{%- endmacro %}

{% macro module_section_start(name) -%}
    {{section_header(name)}}
    <hr>
    <table class="table module-section">
        <tbody>
{%- endmacro %}

{% macro module_section_end() -%}
        </tbody>
    </table>
{%- endmacro %}

{% macro module_item(name, description, type, url = None) -%}
<tr class="fw-light">
    <td><code><a href="{{url if url != None else name + '.html'}}">{{name}}</a></code></td>
    <td>
        {{description}}
        <br>
        <span class="meta-detail">({{type}})</span>
    </td>
</tr>
{%- endmacro %}

{% macro member_item(name, description, type, url = None) -%}
<hr>
<div class="row fw-light">
    <div class="col-3"><code>{% if url == None or url|length != 0 %}<a href="{{url if url != None else name + '.html'}}">{{name}}</a>{% else %}{{name}}{% endif %}</code></div>
    <div class="col">
        {{description}}
        <br>
        <span class="meta-detail">({{type}})</span>
    </div>
</div>
{%- endmacro %}

{% macro defined(name, url) -%}
<small>Defined in module <code><a href="{{url}}">&lt;{{name}}&gt;</a></code></small>
{%- endmacro %}

{% macro description(header) -%}
<div class="container {% for var in varargs %} {{var}}{% endfor %}">
    <h3>{{header}}</h3>
    {{caller()}}
</div>
{%- endmacro %}

{% macro template_parameters() -%}
{% set args = varargs %}
{% call description("Template parameters") %}
<small>
    {% for var in args -%}
        <div class="row">
            <div class="col-auto"><strong>{{var[0]}}</strong></div>
            <div class="col-auto"><strong>-</strong></div>
            <div class="col-auto">{{var[1]}}</div>
        </div>
    {%- endfor %}
</small>
{% endcall %}
{%- endmacro %}

{% macro member_objects() -%}
{% set args = varargs %}
{% call description("Member Objects") %}
<div class="w-50">
    <hr class="my-0">
    <small>
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Member name</th>
                    <th scope="col">Type</th>
                </tr>
            </thead>
            <tbody>
            {% for var in args -%}
                <tr>
                    <td>{{var[0]}}</td>
                    <td>{{var[1]}}</td>
                </tr>
            {%- endfor %}
            </tbody>
        </table>
    </small>
</div>
{% endcall %}
{%- endmacro %}

{% macro member_types() -%}
{% set args = varargs %}
{% call description("Member Types") %}
<div class="w-50">
    <hr class="my-0">
    <small>
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Member type</th>
                    <th scope="col">Definition</th>
                </tr>
            </thead>
            <tbody>
            {% for var in args -%}
                <tr>
                    <td>{{var[0]}}</td>
                    <td>{{var[1]}}</td>
                </tr>
            {%- endfor %}
            </tbody>
        </table>
    </small>
</div>
{% endcall %}
{%- endmacro %}

{% macro code_block(code, extra_classes = []) -%}
<pre class="mb-0">
<code class="language-cpp rounded py-0 pe-0 {% for class in extra_classes -%} {{class}}{% endfor -%}">
{{code|e}}
</code>
</pre>
{%- endmacro %}

{% macro example_code(code) -%}
    {% call description("Example") %}
        {{code_block(code)}}
    {% endcall %}
{%- endmacro %}

{% macro overload_set(params, counting = True) -%}
<hr class="my-0">
<table class="table">
    <tbody>
        {% for param in params -%}
            <tr>
                <td class="p-0"><small>{{code_block(param, ["bg-transparent"])}}</small></td>
                {% if counting -%}
                <td class="p-0 align-middle"><small><tt>({{loop.index}})</tt></small></td>
                {%- endif %}
            </tr>
        {%- endfor %}
    </tbody>
</table>
{%- endmacro %}

{% macro function_stats(parameters, return_value, exceptions, complexity) -%}
    {% call description("Parameters") %}
        {% if parameters|length == 0 -%}
        <p>(none)</p>
        {%- else %}
        <table class="table table-borderless w-50">
            <tbody>
            {% for param in parameters -%}
                <tr>
                    <td class="monospace"><strong>{{param[0]}}</strong></td>
                    <td><strong>-</strong></td>
                    <td>{{param[1]}}</td>
                </tr>
            {%- endfor %}
            </tbody>
        </table>
        {%- endif %}
    {% endcall %}
    {% if return_value != None %}
        {% call description("Return value", "mt-2") %}
            {% if return_value|length != 0 -%}
                <p>{{return_value}}</p>
            {%- else %}
                <p>(none)</p>
            {%- endif %}
        {% endcall %}
    {% endif %}
    {% if exceptions|length != 0 -%}
        {% call description("Exceptions", "mt-2") %}
            <p>{{exceptions}}</p>
        {% endcall %}
    {%- endif %}
    {% if complexity|length != 0 -%}
        {% call description("Complexity", "mt-2") %}
            <p>{{complexity}}</p>
        {% endcall %}
    {%- endif %}
{%- endmacro %}

{% macro github_logo() -%}
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
{%- endmacro %}

{% macro reddit_logo() -%}
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14.238 15.348c.085.084.085.221 0 .306-.465.462-1.194.687-2.231.687l-.008-.002-.008.002c-1.036 0-1.766-.225-2.231-.688-.085-.084-.085-.221 0-.305.084-.084.222-.084.307 0 .379.377 1.008.561 1.924.561l.008.002.008-.002c.915 0 1.544-.184 1.924-.561.085-.084.223-.084.307 0zm-3.44-2.418c0-.507-.414-.919-.922-.919-.509 0-.923.412-.923.919 0 .506.414.918.923.918.508.001.922-.411.922-.918zm13.202-.93c0 6.627-5.373 12-12 12s-12-5.373-12-12 5.373-12 12-12 12 5.373 12 12zm-5-.129c0-.851-.695-1.543-1.55-1.543-.417 0-.795.167-1.074.435-1.056-.695-2.485-1.137-4.066-1.194l.865-2.724 2.343.549-.003.034c0 .696.569 1.262 1.268 1.262.699 0 1.267-.566 1.267-1.262s-.568-1.262-1.267-1.262c-.537 0-.994.335-1.179.804l-2.525-.592c-.11-.027-.223.037-.257.145l-.965 3.038c-1.656.02-3.155.466-4.258 1.181-.277-.255-.644-.415-1.05-.415-.854.001-1.549.693-1.549 1.544 0 .566.311 1.056.768 1.325-.03.164-.05.331-.05.5 0 2.281 2.805 4.137 6.253 4.137s6.253-1.856 6.253-4.137c0-.16-.017-.317-.044-.472.486-.261.82-.766.82-1.353zm-4.872.141c-.509 0-.922.412-.922.919 0 .506.414.918.922.918s.922-.412.922-.918c0-.507-.413-.919-.922-.919z"/></svg>
{%- endmacro %}

{% macro helper_variable_template(code) -%}
{% call description("Helper variable template") -%}
    <hr class="m-0">
    <small>
    {{code_block(code, ["bg-transparent"])}}
    </small>
    <hr class="m-0">
{%- endcall %}
{%- endmacro %}

{% macro inheritance_diagram(img) -%}
{% set random_tag = range(10000000) | random %}
<div class="text-center border p-2" style="width: min-content;">
    <map name="inheritance_diagram_{{random_tag}}">
        {{caller()}}
    </map>
    <img src="{{img}}" usemap="#inheritance_diagram_{{random_tag}}">
    <p class="monospace mb-0 mt-1">
        <small>Inheritance diagram</small>
    </p>
</div>
{%- endmacro %}

{% macro inherited_from(name, url) -%}
<div class="border p-3" style="background-color: #f3f3fc;">
    <h4>Inherited from <a href="{{url}}">{{name}}</a></h3>
    <hr class="mt-0">
    <div class="w-50 ms-3">
        {{caller()}}
    </div>
</div>
{%- endmacro %}